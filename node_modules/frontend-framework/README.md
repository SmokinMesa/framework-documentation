# Dependencies/Requirements

As of v2.0.0 there is a requirement to be using the latest (Dart) implementation of SASS.  This allows the use of forward and use rules along with the new module system.


# Background

This document defines formatting and style rules for HTML, CSS and Vue templates. It aims at improving collaboration, code quality, and enabling supporting infrastructure. It applies to raw, working files that use HTML, CSS and JavaScript.


# General

## Package manager

Use Yarn.


## Indention

Indent to 4 spaces.
Indent relative to, block level, nested level.


e.g.
```
<ul>
	<li>Some text</li>
	<li>Some more</li>
</ul>
```

```
ul {
	background-color: #f5f5f5;
}
	li {
		color: #666;
	}
```


## 	External links

All external links, e.g. `target="_blank"` must also be accompanied with `rel="noopener noreferrer"` for security.


##  Comments

Label each "group" of code in CSS, the aim is to be maintainable for developers unfamiliar with the code.
Also comment certain properties if required.  Comment separating lines terminate at character 104 for legibility.

e.g.
```
//  main blog article
//  ================================================================================================ < 104
.article-main {
	background: #f2f2f2;
	border: 1px solid #ccc;
	color: #666;
	display: none;	//  this is handled in behaviors.js on parent toggle
	margin: 10px auto;
	padding: 1em;
}
```


##  Spacing

### CSS

Separate logical groups with 4 line-breaks, each with relative comments describing its purpose

e.g.
```
//  global site header
//  ================================================================================================
.header-main {
	margin-bottom: 30px;
}




//  initial article in each group
//  ================================================================================================
.primary-article {
	float: left;
}
	.heading-group {
		font-weight: 600;
	}
```


### HTML

Separate block level parents with a space (logically paragraphs can adhere to this convention, although with grouped text this can sometimes take unnecessary space, therefore this rule isn't necessary on these elements)

e.g.
```
<div>
	<h1>My Heading</h1>
	<p>Some text</p>
</div>

<section class="hero">
	<h1>World Class Code</h1>
	<img src="/assets/img/background.png" alt="Example image">
</section>

<div class="header-main">
	<div class="heading-group">
		<h1>Example header</h1>
		<p>Example dummy content</p>
	</div>

	<div>
		<p>Example dummy content</p>

		<div>
			<p>Example dummy content</p>
		</div>
	</div>
</div>
```


## Ordering

CSS properties to be alphabetized.

e.g.
```
//	example
//  ================================================================================================
.test-class {
	background-color: #ccc;
	color: #000;
	display: block;
	margin: 10px auto;
	padding: 1em;
	width: auto;
	z-index: 1;
}
```

Where pre-processors (such as SASS or LESS) are used, these are to preceded "vanilla" CSS, followed with a space for legibility.

e.g.
```
//	example
//  ================================================================================================
.test-class {
	&extend %this;
	@include myScss();

	background-color: #ccc;
	color: #000;
	display: block;
	margin: 10px auto;
	padding: 1em;
	width: auto;
	z-index: 1;
}
```

##	CSS units


Wherever possible `em` and `rem` should be used for paddings, as to scale with the root font-size.  This is especially true of typography and buttons.  Component/layout spacings using `px` is acceptable where design allows.


##	Nesting SCSS

Avoid over-nesting of SaSS/LESS (pre-processors make this too easy).  Avoid styling of native HTML elements or being way too general applying styles.

Each component has a unique name assigned when adding to the DOM.  This "componentName" is used to target individual instances of the component being used on the page/site and to pass unique style through to it (more on this later).


##  HTML & JavaScript

When using element ID or class(es) to target an element (for example using jQuery), separate presentation ID/class(es) from behavioral.

Prefix JavaScript targeting classes with js-

Make use of the data- attribute.

e.g.
```
<ul class="tabbed-headings">
	<li class="active js-show-content" data-show="this">Heading One</li>
	<li class="js-show-content" data-show="that">Heading Two</li>
</ul>
```


##	Markup / Vue&Nuxt ordering

Properties drop to new line when more than 1 added, closing `<` on the same indent as the opening.

Correct:
```
<div class="my-class">

<div
	id="my-id"
	class="my-class"
>
```

Incorrect:
```
<div
class="my-class">

<div
	class="my-class"
>

<div id="my-id"
	class="my-class">

<div
	id="my-id"
	class="my-class">
```


When adding Vue&Nuxt logic mixed with standard HTML adhere to the following order, based around presentation logic (v-if / v-for) followed by specificity values.

```
<div
	v-if="something"
	v-show="isShowing"
	v-for="this in these"
	:id="vue-id"
	id="standard-id"
	:class="vue-class"
	class="standard-class"
	@click="handler()"
	:key="if-needed"
	:ref="this"
>
	<h1>Content as usual</h1>
</div>



<select
	v-if="something"
	v-show="isShowing"
	v-for="this in these"
	:id="vue-id"
	id="standard-id"
	:class="vue-class"
	class="standard-class"
	@click="handler('etc')"
	@change="events()"
	:key="if-needed"
>
	<option
		v-for="this in these"
		:key="if-needed"
		:id="vue-id"
		id="standard-id"
		:class="vue-class"
		class="standard-class"
		@click="handler('etc')"
		@change="events()"
		v-model="formData"
		required
	>
		{{ this.id }}
	</option>
</select>
```


#	Structure

The frontend is broken into UIKit & Components (the components require the UIKit as a dependency).


##  UIKit

Global UI elements and supporting theming.

All files to be included through a single `imports.scss` as to share/pass styles set in `theme.scss`.  Framework should be leveraged to style core UI elements as much as possible.  Colours, typography, buttons and custom layouts should have variables set here.

It's recommended to include some sort of `global.scss` per project.  This can be used to over-ride or include any missing style the theming does not cover.


