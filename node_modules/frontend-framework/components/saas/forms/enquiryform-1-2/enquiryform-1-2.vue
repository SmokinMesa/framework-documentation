<template>
	<section :class="componentName">
		<div class="sw cf">
			<div class="main">
				<div class="col-12 heading">
					<h1>Get in touch</h1>

					<p>An asterisk (*) denotes a required field</p>
				</div>

				<form class="cf" @submit.prevent="formSubmit">
					<div class="col-7 select-wrapper">
						<select id="enquiry_type" aria-label="Enquiry type" required v-model="formData.enquiry_type">
	                		<option value="" selected disabled>* Enquiry type</option>
	                		<option v-for="(option, index) in enquiryTypes" :value="enquiryTypes[index]">{{ enquiryTypes[index] }}</option>
	                	</select>

	                	<icon-chevron-down />
	            	</div>

	            	<div class="col-5 select-wrapper">
						<select id="title" aria-label="Title" required v-model="formData.title">
	                		<option value="" selected disabled>* Title</option>
	                		<option value="mr">Mr</option>
	                		<option value="mrs">Mrs</option>
	                		<option value="miss">Miss</option>
	                		<option value="ms">Ms</option>
	                		<option value="dr">Doctor</option>
	                	</select>

	                	<icon-chevron-down />
	            	</div>

					<div class="col-6">
						<input id="first_name" type="text" placeholder="* First name" value="" aria-label="First name" required v-model="formData.first_name">
	            	</div>
	                
	                <div class="col-6">
	                	<input id="last_name" type="text" placeholder="* Last name" value="" aria-label="Last name" required v-model="formData.last_name">
	            	</div>

	            	<div class="col-12">
	                	<input id="email" type="email" placeholder="* Email address" value="" aria-label="Email address" required v-model="formData.email">
	            	
	                	<input id="telephone" type="text" placeholder="* Telephone number" value="" aria-label="Telephone number" required v-model="formData.telephone">

	                	<textarea id="message" placeholder="* Your message" name="message" aria-label="Your message" required v-model="formData.message"></textarea>

	                	<div class="gdpr">
	                		<p>By what means would you like us to respond?<br>
	                		You can select more than one option</p>

	                		<input id="_optin[telephone]" type="checkbox" name="_optin[telephone]" value="telephone" v-model="formData.optin_telephone"> 
                    		<label for="_optin[telephone]">Telephone</label>

                    		<input id="_optin[sms]" type="checkbox" name="_optin[sms]" value="sms" v-model="formData.optin_sms"> 
                   			<label for="_optin[sms]">SMS</label>
               
                    		<input id="_optin[email]" type="checkbox" name="_optin[email]" value="email" v-model="formData.optin_email"> 
                    		<label for="_optin[email]">Email</label>
                    	</div>

                    	<button class="button color-1" type="submit">Send message</button>

	                	<div class="terms">
	                		<p>We will keep your information for a period of 12 months specifically for the purpose of communicating with you in relation to this enquiry.</p>

			                <input v-if="showTerms" id="_terms_accepted" type="checkbox" name="_terms_accepted" required v-model="formData.terms_accepted">
			                <label v-if="showTerms" for="_terms_accepted">I have read and understood the <a href="/terms-conditions" target="_blank">Terms and Conditions *</a></label>
			            </div>
	                </div>
	            </form>
        	</div>

        	<div class="image-container">
				<slot name="image"></slot>
			</div>
		</div>
	</section>
</template>




<script>
	export default {
		name: 'Enquiryform-1-2',
		props: {
			componentName: {
				default: 'enquiryform-1-2',
				type: String
			},
			vehicle: {
				default: {
					"id": '',
					"vrm": ''
				},
				Type: Object
			},
			showTerms: {
				default: true,
				type: Boolean
			},
			enquiryTypes: {
				default: () => {
					return [
					"general enquiry",
					"book a test drive",
					"reserve this car",
					"finance enquiry"
					]
				}
			}
		},
		data() {
			return {
				formData: {
					"enquiry_type": '',
					"title": '',
					"first_name": '',
					"last_name": '',
					"email": '',
					"telephone": '',
					"message": '',
					"optin_telephone": '',
					"optin_sms": '',
					"optin_email": '',
					"terms_accepted": ''
				}
			}
		},
		methods: {
			formSubmit() {
				alert("run validation, then submit" + this.formData);
			},
		}
	}
</script>