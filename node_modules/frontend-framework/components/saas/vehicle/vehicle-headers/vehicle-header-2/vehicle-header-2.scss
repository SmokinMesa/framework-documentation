/*
    title:  vehicle-header-2
    author: kelly@nexuspoint.co.uk
    notes:

======================================================================================================================================================================================================== */




//  component wrapper
//  ====================================================================================================
@mixin vehicle-header-2(
    $componentName: "vehicle-header-2",

    $background: #fff
) {
    .#{$componentName} {
        @extend %cf;        
		@include globalTextContrast($background);
		@include flex($dir: column);

		background: $background;
		position: relative;
		width: 100%;

		@media screen and (min-width: $break-large) {
			@include flex($dir: row);
		}

		@media screen and (min-width : $break-x-large) {
			margin: 0 auto;
			max-width: $break-x-large;
		}

		&.showing-modal {
			position: static;
		}


		//  enlarge-modal
		//  ============================================================================================
		.enlarge-modal {
			@include flex($align: center);

			background: #000;
			bottom: 0;
			left: 0;
			position: absolute;
			right: 0;
			top: 0;
			z-index: 4;

			.close {
				position: absolute;
				right: 1em;
				top: 1em;

				&::before {
					@include icon-pack($icon-close, 'white');
				}

				&:hover {
					transform: rotate(-90deg);
					transition: transform .3s;
				}
			}
		}


		//  vehicle-tools
		//  ============================================================================================
		.vehicle-tools {
			@include flex($dir: row, $justify: space-between);

			margin: 0.9375rem;
			z-index: 2;

			@media screen and (min-width: $break-medium){
				background: none;
				left: 0;
				position: absolute;
				top: 0;
			}

			a {
				@include flex($align: center, $justify: center);

				background: $background;
				height: 50px;
				margin: 0 5px 0 0;
				overflow: hidden;
				position: relative;
				width: 50px;

				@media screen and (min-width: $break-medium){

					//  hover animation
					//  ================================================================================
					&::before {
						border: 1px solid $color-1;
						border-radius: 50%;
						content: "";
						position: absolute;
						transform: scale(0);
						z-index: 1;
						transition: transform .4s;
					}

					&:hover::before {
						transform: scale(40);
						transition: transform .2s;
					}
				}
			}
		}

			//  share-compare
			//  ========================================================================================
			.share-compare {
				@include flex($dir: row);

				@media screen and (min-width: $break-medium){
					flex-direction: column;
				}

				a {
					@media screen and (min-width: $break-medium){
						margin: 0 0 5px 0;
					}
				}

				//  tool icons
				//  ====================================================================================
				.favourite {
					&::after {
						@include icon-pack($icon-favourite);
					}
				}

				.compare {
					&::after {
						@include icon-pack($icon-compare);
					}
				}

				.share {
					&::after {
						@include icon-pack($icon-share);
					}
				}
			}

			//  enlarge
			//  ========================================================================================
			.enlarge {
				
				@media screen and (min-width: $break-medium){
					display: none !important;
				}

				&::before {
					@include icon-pack($icon-enlarge);
				}
			}

		//  carousel-container
		//  ============================================================================================
		.carousel-container {
			height: 56.25vw;
			margin-bottom: 50px;
			overflow: visible;
			position: relative;
			width: 100%;

			@media screen and (min-width : $break-medium) {
				margin-bottom: 0;
			}

			@media screen and (min-width : $break-large) {
				//height: calc((1vw * 66) / 100 * 56.25);	// 16:9 aspect ratio;
				height: calc((1vw * 66) / 100 * 77);	// 4:3 aspect ratio;
				width: 66%;
			}
		}
			.image-main {
				display: block;
				min-width: 100%;

				@supports (object-fit: cover) {
					height: 100%;
					object-fit: cover;
					object-position: center;
				}
			}
			
	        //  thumbnail container
	        //  ========================================================================================
	        .thumbnail-container {
	        	overflow: hidden;
	        	padding: 0;
	        	position: absolute;
	        	top: 90%;
	        	width: 100%;
	        	z-index: 3;

				@media screen and (min-width: $break-medium) {
					bottom: 1em;
					top: unset;
				}

				//  thumbnail list
	        	//  ====================================================================================
		        .thumbnails {
		        	@include flex();

		        	margin: 0 auto -.8em;
		        	overflow-y: hidden;
		        	overflow-x: scroll;
		        	padding: 1em;
		        	scroll-behavior: smooth;
		        	width: 100%;

		        	@media screen and (min-width: $break-medium) {
		        		width: 88%;
		        	}

		        	li {
		        		border-radius: $global-border-radius;
						height: 50px;
						margin: 0 3px;
						min-height: 50px;
						min-width: 76px;
						overflow: hidden;
						transition: .4s;
						width: 76px;

						@media screen and (min-width: $break-medium) {
							background: $break-medium;
						}

						img {
							display: block;
							min-width: 100%;
							opacity: .3;

							@supports (object-fit: cover) {
								height: 100%;
								object-fit: cover;
								object-position: center;
							}
						}

						&.active,
						&:hover {
							border: 1px solid #fff;
							transform: scale(1.1);
							transition: .3s;

							img {
								opacity: 1;
							}
						}
					}        	
		        }

		        //  thumbnail nav
	        	//  ====================================================================================
		        .prev,
		        .next {
		        	@include flex($align: center);

		        	cursor: pointer;
		        	height: 100%;
		        	padding: 1em;
		        	position: absolute;
		        	top: 0;
		        	z-index: 5;

		        	@media screen and (max-width: $break-medium){
		        		display: none;
		        	}

		        	&::before {
		        		transform: scale(.5) translateY(.8em);
		        	}
		        }

		        .prev {
		        	left: 0;
		        	
		        	&::before {
	                	@include icon-pack($icon-chevron-left, 'white');
	                }

	                &:not(.disabled) {
		                &:hover {
		                	transform: translateX(-10px);
		                	transition: .3s;
		                }

		                &:active {
		                	transform: translateX(-15px);
		                	transition: .3s;
		                }
		            }
		        }

		        .next {
		        	right: 0;

		        	&::before {
	                	@include icon-pack($icon-chevron-right, 'white');
	                }

	                &:not(.disabled) {
		                &:hover {
		                	transform: translateX(10px);
		                	transition: .3s;
		                }

		                &:active {
		                	transform: translateX(15px);
		                	transition: .3s;
		                }
		            }
		        }
		    }


		    //  nav
	        //  ========================================================================================
	        .nav {
	            @include flex($align: center, $justify: center);

	            background: rgba(0, 0, 0, .25);
	            bottom: 0;
	            left: 0;
	            padding: 10px;
	            position: absolute;
	            right: 0;
	            top: 0;
	            z-index: 1;

	            @media screen and (min-width : $break-medium) {
	            	@include flex($align: stretch, $justify: center);
	            }
	        
	            .prev,
	            .next {
	                @include flex($align: center, $justify: center);

	                cursor: pointer;
	                position: absolute;
	                transition: .4s;
	                width: 10%;
	            	
	            	@media screen and (min-width : $break-medium) {
	                	height: 100%;
	            	}

	                &.disabled {
	                    cursor: not-allowed;
	                    opacity: .25;
	                }
	            }

	            .prev {
	                left: 0;

	            	&::before {
	                	@include icon-pack($icon-chevron-left, 'white');
	                }

	                &:not(.disabled) {
		                &:hover {
		                	transform: translateX(-10px);
		                	transition: .3s;
		                }

		                &:active {
		                	transform: translateX(-40px);
		                	transition: .3s;
		                }
		            }
	            }

	            .next {
	                right: 0;

	            	&::before {
	                	@include icon-pack($icon-chevron-right, 'white');
	                }

	                &:not(.disabled) {
		                &:hover {
		                	transform: translateX(10px);
		                	transition: .3s;
		                }

		                &:active {
		                	transform: translateX(40px);
		                	transition: .3s;
		                }
		            }
	            }
	        }




		//  vehicle-title
		//  ============================================================================================
		.content {
			@include flex($align: center, $dir: row, $justify: flex-start, $wrap: wrap);

			padding: 1.0714285714285714rem;
			width: 100%;

			@media screen and (min-width: $break-medium){
				padding: 2.857142857142857rem;
			}

			@media screen and (min-width: $break-large){
				@include flex($align: flex-start, $dir: column, $justify: flex-start, $wrap: wrap);

				padding: 1.75rem;
				width: 34%;
			}

			@media screen and (min-width: $break-x-large){
				padding: 2.857142857142857rem;
			}
		}

			//  vehicle-title
			//  ========================================================================================
			.vehicle-title {
				width: 100%;

				@media screen and (min-width: $break-medium) {
					width: 60%;
				}

				@media screen and (min-width : $break-large){
					width: 100%;
				}

				//  h1
				//  ====================================================================================
				h1 {
					@include flex($align: center, $wrap: no-wrap);

					font-size: 1.571rem;
				}
					.reg-date {
						border: 1px solid $global-border-color;
						border-radius: $global-border-radius;
						color: $grey-3;
						font-size: .7142857142857143rem;
						margin-right: .8em;
						padding: .2em .7em;
					}

				//  vehicle-name
				//  ====================================================================================
				.vehicle-name {
					font-size: 1rem;
					font-weight: 600;
					padding: .5em 0;
				}

				//  vehicle-branch
				//  ====================================================================================
				.vehicle-branch {
					@include flex($justify: flex-start);

					.icon {
						@include flex($align: center);

						margin-right: 2em;

						&::before {
							margin-right: .7142857142857143em;
						}
					}

					.location {
						padding: 0;

						&::before {
							@include icon-pack($icon-location);
						}
					}

					.phone {
						padding: 0;

						&::before {
							@include icon-pack($icon-phone);
						}
					}
				}
			}

			//  vehicle-pricing
			//  ========================================================================================
			.vehicle-price-container {
				@include flex($justify: space-around, $align: center);

				margin-top: 2.142857142857143rem;
				position: relative;			
				width: 100%;

				&::before,
				&::after {
					background-color: $global-border-color;
					display: block;
					height: 1px;
					content: "";
					left: -20px;
					position: absolute;
					right: -20px;
				}

				&::before {
					top: 0;
				}
				&::after {
					bottom: 0;
				}

				@media screen and (min-width: $break-medium){
					margin: 0;
					width: 40%;

					&::before,
					&::after {
						display: none;
					}
				}

				@media screen and (min-width: $break-large){
					@include flex($justify: flex-start, $align: center);

					margin-top: 2.142857142857143rem;
					width: 100%;
				}
			}
				//  vehicle-price, vehicle-price-monthly
				//  ====================================================================================
				.vehicle-price {
					border-right: 1px solid $global-border-color;
					margin: 1.4285714285714286rem 0;

					@media screen and (min-width: $break-medium){
						margin: 0;
						padding-right: 2.857142857142857rem;
					}
				}

				.vehicle-price-monthly {
					@media screen and (min-width: $break-medium){
						padding-left: 2.857142857142857rem;
					}
				}

				.vehicle-price,
				.vehicle-price-monthly {
					@include flex($dir: column, $justify: center, $align: center);

					flex-grow: 1;

					@media screen and (min-width: $break-medium){
						@include flex($dir: column, $justify: center, $align: flex-start);

						flex-grow: 0;
					}
				}
					//  each price
					//  ================================================================================
					.price {
						font-size: 2rem;
						font-weight: 600;
						padding: 0;

						.pcm {
							font-size: 1rem;
							font-weight: 400;
						}
					}

					.price-note {
						color: $grey-3;
						display: block;
						font-size: .7142857142857143rem;
						padding: 0;
					}

			//  vehicle-summary
			//  ========================================================================================
			.vehicle-summary {
				max-width: 100%;
				margin: 2.142857142857143rem 0;
				position: relative;
			}
				//  summary-tabs
				//  ====================================================================================
				.summary-tabs {
					@include flex($align: flex-start, $justify: flex-start);

					border-bottom: 1px solid $global-border-color;
					margin: 0 -1.0714285714285714rem;	// must match to padding on content to make border full width
					padding-left: 1.0714285714285714rem;

					@media screen and (min-width: $break-medium){
						margin: 0 -2.857142857142857rem;	// must match to padding on content to make border full width
						padding-left: 2.857142857142857rem;
					}

					@media screen and (min-width: $break-large){
						margin: 0 -1.75rem;	// must match to padding on content to make border full width
						padding-left: 1.75rem;	
					}

					@media screen and (min-width: $break-x-large){
						margin: 0 -2.857142857142857rem;	// must match to padding on content to make border full width
						padding-left: 2.857142857142857rem;
					}

					li {
						color: $grey-3;
						font-weight: 600;
						cursor: pointer;
						margin-right: 1.0714285714285714rem;
						padding: 1rem 0;
						position: relative;

						&::after {
							background-color: $color-1;
							bottom: 0;
							content: '';
							height: 3px;
							left: 0;
							position: absolute;
							right: 0;
							transform: scale(0);
							transition: .4s;
							width: 100%;
						}

						&.active,
						&:hover {
							&::after {
								transform: scale(1);
								transition: .3s;
							}
						}

						&.active {
							color: inherit;
						}
					}
				}

				//  summary-content
				//  ====================================================================================
				.summary-content {
					padding-top: 1.5em;

					@media screen and (min-width: $break-large) and (max-width: $break-x-large){
						max-height: 200px;
						overflow: scroll;
					}
				}

					//  vehicle-specs
					//  ================================================================================
					.vehicle-specs {
						@include flex($justify: flex-start, $wrap: wrap);

						padding: 0;
						
						.spec-icon {
							@include flex($align: center);

							float: left;
							padding: 0 0 1em 0;
							width: 33.33%;

							&::before {
								margin-right: .7142857142857143em;
							}
						}
						//  each spec
						//  ============================================================================
						.mileage {
							&::before {
								@include icon-pack($icon-mileage);
							}
						}

						.fuel {
							&::before {
								@include icon-pack($icon-fuel);
							}
						}

						.transmission {
							&::before {
								@include icon-pack($icon-transmission);
							}
						}
					}

			//  vehicle-cta
			//  ========================================================================================
			.vehicle-cta {
				@include flex($align: center, $justify: center);

				background: $background;
				width: 100%;

				@media screen and (min-width: $break-medium){
					background: none;
					margin-top: auto;
				}

				//  button
				//  ====================================================================================
				.button {
					margin: 5px;
					white-space: nowrap;
					width: 50%;

					@media screen and (min-width: $break-medium) and (max-width: $break-large){
						width: 20%;
					}
				}
			}
    }   // END

    .enlarge-enter-active, 
	.enlarge-leave-active {
		transition: .2s;
	}
	.enlarge-enter, 
	.enlarge-leave-to {
		transform: scale(3);
		opacity: 0;
	}
}


//  instantiate
//  ====================================================================================================
@include vehicle-header-2();
