/*
    title:  vehicle-header-1
    author: kelly@nexuspoint.co.uk
    notes:

======================================================================================================================================================================================================== */




//  component wrapper
//  ====================================================================================================
@mixin vehicle-header-1(
    $componentName: "vehicle-header-1",

    $background: #fff
) {
    .#{$componentName} {
        @extend %cf;
		@include globalTextContrast($background);

		background: $background;
		position: relative;

		@media screen and (min-width : $break-x-large) {
			margin: 0 auto;
			max-width: $break-x-large;
		}

		.icon {
			@include set-icon-color(contrast($background));
		}

		&.showing-modal {
			position: static;
		}


		//  enlarge-modal
		//  ============================================================================================
		.enlarge-modal {
			@include flex($align: center);

			background: #000;
			bottom: 0;
			left: 0;
			position: absolute;
			right: 0;
			top: 0;
			z-index: 4;

			.close {
				@include set-icon-color(#fff);

				height: 24px;
				position: absolute;
				right: 1em;
				top: 1em;
				width: 24px;

				&:hover {
					.icon {
						transform: rotate(-90deg);
						transition: transform .3s;
					}
				}
			}
		}




		//  vehicle-tools
		//  ============================================================================================
		.vehicle-tools {

			@media screen and (min-width : $break-medium) {
				display: block;
				overflow: hidden;
				position: absolute;
				right: .9375rem;
				top: 200px;
			}

			//  tool-menu
			//  ========================================================================================
			.tool-menu {
				@include flex($align: center, $justify: flex-start, $wrap: nowrap, $dir: row);

				height: 80px;
				overflow: visible;
				position: relative;
				z-index: 2;

				@media screen and (min-width : $break-medium) {
					display: block;
					height: auto;
					overflow: hidden;
				}
			}

				//  each tool
				//  ========================================================================================
				.tool {
					@include flex($dir: row-reverse, $align: center, $justify: flex-start, $wrap: nowrap);

					margin: .9375rem;

					//  desktop only
					//  ====================================================================================
					@media screen and (min-width : $break-medium) {
						border-radius: $global-border-radius;
						margin: 0 0 5px 0;
						overflow: hidden;

						//  show slide on hover
						//  ================================================================================
						&:hover {
							overflow: visible;

							.toggle {
								border-radius: 0 $global-border-radius $global-border-radius 0;
								transition: .3s ;

								&::before {
									transform: scale(40);
									transition: transform .2s;
								}
							}
						}

						&.compare:hover,
						&.favourite:hover,
						&.social:hover {
							.slide {
								opacity: 1;
								pointer-events: auto;
								position: relative;
								transform: translateX(0);
							}
						}
					}
				}

				//  toggle
				//  ========================================================================================
				.toggle {
					@include flex($align: center, $justify: center);

					background: $background;
					height: 50px;
					margin: 0;
					overflow: hidden;
					position: relative;
					width: 50px;
					z-index: 1;


					//  background for hover animation
					//  ====================================================================================
					&::before {
						border: 1px solid $color-1;
						border-radius: 50%;
						content: "";
						position: absolute;
						transform: scale(0);
						z-index: 1;
						transition: transform .4s;
					}

					@media screen and (min-width : $break-medium) {
						border-radius: $global-border-radius;
					}
				}

				//  menu slide
				//  ========================================================================================
				.slide {
					display: none;

					@media screen and (min-width : $break-medium) {
						@include flex($align: center, $justify: flex-start, $dir: row, $wrap: nowrap);

						align-self: stretch;
						background: $color-1;
						border-radius: $global-border-radius 0 0 $global-border-radius;
						padding: 0 1rem;
						pointer-events: none;
						position: absolute;
						transition: .4s;
						transform: translateX(100%);
					}

					.icon {
						@include set-icon-color(#fff);

						height: 1rem;
						width: 1rem;
					}
				}

				//  social slide for mobile
				//  ====================================================================================
				.social .slide {
					@media screen and (max-width : $break-medium) {
						background: $color-1;
						display: block;
						left: 0;
						position: absolute;
						right: 0;
						top: 70px;
					}
				}

			//  tools-drawer
			//  ========================================================================================
			.tools-drawer {

			}

			//  enlarge tool
			//  ========================================================================================
			.enlarge {
				margin-left: auto;

				@media screen and (min-width : $break-medium) {
					display: none !important;
				}
			}
		}




		//  carousel-container
		//  ============================================================================================
		.carousel-container {
			height: 56.25vw;
			margin-bottom: 50px;
			position: relative;

			@media screen and (min-width : $break-medium) {
				@include flex($justify: center);

				margin: 0 auto;
			}

			@media screen and (min-width : $break-x-large) {
				height: calc(#{$break-x-large} / 100 * 56.25);	// 16:9 aspect ratio;
				max-width: $break-x-large;
			}
		}
			.image-main,
			.image-placeholder {
				display: block;
				min-width: 100%;

				@supports (object-fit: cover) {
					height: 100%;
					object-fit: cover;
					object-position: center;
				}
			}

	        //  nav for carousel, nav for thumbnails
	        //  ========================================================================================
	        .nav,
	        nav {
	            @include flex($align: center, $justify: center);

	            bottom: 0;
	            left: 0;
	            padding: 10px;
	            position: absolute;
	            right: 0;
	            top: 0;
	            user-select: none;
	            z-index: 1;

	            @media screen and (min-width : $break-medium) {
	            	@include flex($align: stretch, $justify: center);
	            }
	        }
	        	//  prev/next
		    	//  ====================================================================================
				.prev,
		        .next {
		            @include flex($align: center, $justify: center);

		            cursor: pointer;
		            height: 100%;
		            position: absolute;
		            top: 0;
		            transition: .4s;
		            width: 10%;
		            z-index: 5;

		        	@media screen and (min-width : $break-medium) {
		            	height: 100%;
		        	}

		        	.icon {
		        		@include set-icon-color(#fff);
		        	}

		        	&.disabled,
		        	&[disabled="disabled"] {
	                    cursor: not-allowed;
	                    opacity: .25;
	                    pointer-events: none;
	                }
		        }

		        .prev {
		            left: 0;

		            &:not([disabled="disabled"]),
		            &:not(.disabled) {
		                &:hover {
		                	transform: translateX(-5px);
		                	transition: .3s;
		                }

		                &:active {
		                	transform: translateX(-20px);
		                	transition: .3s;
		                }
		            }
		        }

		        .next {
		            right: 0;

		            &:not([disabled="disabled"]),
		            &:not(.disabled) {
		                &:hover {
		                	transform: translateX(5px);
		                	transition: .3s;
		                }

		                &:active {
		                	transform: translateX(20px);
		                	transition: .3s;
		                }
		            }
		        }


	        //  thumbnail container
	        //  ========================================================================================
	        .thumbnail-container {
	        	height: 70px;
	        	margin: 0 auto;
	        	overflow: hidden;
	        	padding: 0;
	        	top: 90%;
	        	width: 100%;
	        	z-index: 3;

				@media screen and (min-width: $break-medium) {
					top: 0;
					width: 65%;
				}

				//  thumbnail list "card"
	        	//  ====================================================================================
		        .#{$componentName}thumbnail-carousel {
		        	@include flex();

		        	margin: 0 auto -.8em;
		        	overflow: hidden;
		        	padding: 1em;
		        	scroll-behavior: smooth;
		        	width: 100%;

		        	@media screen and (min-width: $break-medium) {
		        		width: 88%;
		        	}

		        	li {
		        		border-radius: $global-border-radius;
						height: 50px;
						margin: 0 3px;
						min-height: 50px;
						min-width: 76px;
						overflow: hidden;
						transition: .4s;
						width: 76px;

						@media screen and (min-width: $break-medium) {
							background: $break-medium;
						}

						img {
							display: block;
							min-width: 100%;
							opacity: .3;

							@supports (object-fit: cover) {
								height: 100%;
								object-fit: cover;
								object-position: center;
							}
						}

						&.active,
						&:hover {
							border: 1px solid #fff;
							transform: scale(1.1);
							transition: .3s;

							img {
								opacity: 1;
							}
						}
					}
		        }

		        //	hide thumbnail nav on mobile
		        //  ====================================================================================
		        .prev,
		        .next {
		        	transform: scale(.6);

		        	@media screen and (max-width : $break-medium) {
		        		display: none;
		        	}
		        }
		    }


		    //  image-count
	        //  ========================================================================================
	        .image-count {
	        	display: none;

	        	@media screen and (min-width: $break-medium) {
	        		@include flex($align: center, $justify: center);

		        	background: $background;
		        	border-radius: $global-border-radius;
	        		font-size: .7142857142857143rem;
	        		font-weight: 600;
	        		height: 3.5714285714285716rem;
	        		left: 1em;
	        		padding: 0 1em;
	        		position: absolute;
	        		top: 1em;
	        		width: 93px;
	        		z-index: 1;
	        	}

	        	.icon.camera {
	        		margin-right: .5rem;
	        	}
	        }




		//  content
		//  ============================================================================================
		.content {
			@include flex($dir: column);

			@media screen and (min-width : $break-medium) {
				@include flex($dir: row, $wrap: wrap);

				padding: 2em 0;
			}

			@media screen and (max-width : $break-medium) {
				width: 100%;
			}
		}

			//  vehicle-title
			//  ========================================================================================
			.vehicle-title {
				padding: 1.0714285714285714rem 1.0714285714285714rem 2.857142857142857rem 1.0714285714285714rem;

				@media screen and (min-width: $break-medium) and (max-width: $break-large){
					flex-grow: 2;
					width: 100%;
				}

				@media screen and (min-width : $break-large) {
					padding: 0;
				}

				//  h1
				//  ====================================================================================
				h1 {
					@include flex($align: center, $wrap: no-wrap);

					font-size: 1.571rem;
				}
					.reg-date {
						border: 1px solid $global-border-color;
						border-radius: $global-border-radius;
						color: $grey-3;
						font-size: .7142857142857143rem;
						margin-right: .8em;
						padding: .2em .7em;
					}

				//  vehicle-name
				//  ====================================================================================
				.vehicle-name {
					font-size: 1rem;
					font-weight: 600;
					padding: .5em 0;
				}

				//  vehicle-specs
				//  ====================================================================================
				.vehicle-specs {
					@include flex($justify: flex-start, $dir: row, $align: center, $wrap: nowrap);

					li {
						@include flex($justify: flex-start, $dir: row, $align: center, $wrap: nowrap);

						margin-right: 1.8em
					}

						.icon {
							margin-right: .8em;
						}
				}
			}


			//  vehicle-pricing
			//  ========================================================================================
			.vehicle-price-container {
				@include flex($justify: space-around);

				border-color: $global-border-color;
				border-style: solid;
				border-width: 1px 0 1px 0;
				flex-grow: 1;
				padding: 2em;

				@media screen and (min-width : $break-medium) {
					border-width: 0 1px 0 0;
					padding: 0;
				}

				@media screen and (min-width : $break-large) {
					border-width: 0 1px 0 1px;
				}
			}
				//  vehicle-price, vehicle-price-monthly
				//  ====================================================================================
				.vehicle-price {
					border-right: 1px solid $global-border-color;

					@media screen and (min-width : $break-medium) {
						border: none;
					}
				}

				.vehicle-price,
				.vehicle-price-monthly {
					@include flex($dir: column, $justify: center, $align: center);

					width: 50%;
				}

					//  each price
					//  ================================================================================
					.price {
						font-size: 2rem;
						font-weight: 600;
						padding: 0;

						.pcm {
							font-size: 1rem;
							font-weight: 400;
						}
					}

					.price-note {
						@include flex($dir: row, $justify: flex-start, $align: center, $wrap: nowrap);

						color: $grey-3;
						font-size: .7142857142857143rem;
						padding: 0;
					}
						.icon.tooltip {
							height: .8rem;
							margin-left: 5px;
							width: .8rem;
						}


			//  vehicle-cta
			//  ========================================================================================
			.vehicle-cta {
				@include flex($align: center);

				background: $background;
				flex-grow: 1;
				padding: 2.142857142857143rem 1.0714285714285714rem;

				@media screen and (min-width : $break-medium) {
					background: none;
					padding: 0;
				}

				//  button
				//  ====================================================================================
				.button {
					margin: 5px;
					white-space: nowrap;
					width: 50%;
				}
			}

		//  icons
		//  ============================================================================================
		.icon {
			height: 24px;
			width: 24px;
			z-index: 2;
		}

    }   // END

    .enlarge-enter-active,
	.enlarge-leave-active {
		transition: .2s;
	}
	.enlarge-enter,
	.enlarge-leave-to {
		transform: scale(3);
		opacity: 0;
	}
}


//  instantiate
//  ====================================================================================================
@include vehicle-header-1();
