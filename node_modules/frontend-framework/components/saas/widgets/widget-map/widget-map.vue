<template>
	<section :class="componentName">
		<iframe id="map" :src="'https://www.google.com/maps?q=' +locationName + '+' + locationPostcode + '&output=embed'" allowfullscreen></iframe>

		<a class="map-link" :href="'https://www.google.com/maps?q=' + locationName + '+' + locationPostcode + '&output=embed'" title="View on google maps" target="_blank">View on google maps</a>
	</section>
</template>




<script>
	export default {
		name: 'WidgetMap',
		props: {
			componentName: {
				default: 'widget-map',
				type: String
			},
			location: {
				default() {
					return {
						name: "Nexus Point",
						postcode: "CW7 3BD"
					}
				},
				type: Object
			}
		},
		computed: {
			locationName() {
				return this.location.name.replace(/\s/g, '%20');
			},
			locationPostcode() {
                return this.location.postcode.replace(/\s/g, '%20');
            }
		}
	}
</script>