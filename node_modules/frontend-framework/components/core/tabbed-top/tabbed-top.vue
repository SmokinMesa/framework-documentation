<template>
    <div :class="componentName">
        <nav>
            <ul class="nav-tabs">
                <li
                    v-for="(item, index) in content"
                    :class="{ 'active' : index === currentTab }"
                    @click="toggleTab(index)"
                >
                    {{ item.heading }}
                </li>
            </ul>
        </nav>


        <div class="tab-content-container">
            <component
                v-bind:is="content[currentTab].content"
                data-aos="fade-down"
                :response_data="response_data"
                v-on:emit="$emit($event.action, $event.attributes)"
            />
        </div>
    </div>
</template>




<script>
    export default {
        name: "TabbedTop",
		props: {
			componentName: {
                type: String,
				default: 'tabbed-top'
			},
            content: {
                type: Array,
                default: () => [
                    {
                        heading: 'Component 1',
                        content: 'dynamic1',
                    },
                    {
                        heading: 'Component 2',
                        content: 'dynamic2'
                    },
                    {
                        heading: 'Component 3',
                        content: 'dynamic3'
                    },
                ]
            },
            response_data: {
                type: Object,
                default: () => ({})
            }
        },
        data() {
            return {
                currentTab: 0,
            }
        },
        methods: {
            toggleTab(index) {
                this.currentTab = index;
            }
        }
    }
</script>