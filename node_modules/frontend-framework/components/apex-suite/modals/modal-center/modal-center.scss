/*
    title:  modal-center
    author: rob@nexuspoint.co.uk
    notes:

======================================================================================================================================================================================================== */




//  component wrapper
//  ====================================================================================================
@mixin modal-center(
    $componentName: "modal-center",

    $background: rgba(255, 255, 255, .75),
    $colWidth: "6"
) {
    .#{$componentName} {
        @extend %cf;
		@include flex($align: center, $justify: center);

		background: rgba(255, 255, 255, 1);
		backdrop-filter: blur(3px);
		bottom: 0;
		left: 0;
		position: fixed;
		right: 0;
		top: 0;
		z-index: 999;

		@media screen and (min-width: $break-medium) {
			background: $background;
		}

		//  in-case content massive
		//	============================================================================================
		.for-overflow {
			margin-top: 0;
			max-height: 100vh;
			min-height: 100vh;
			overflow: auto;
			width: 100%;
		}

		//  actual content
		//	============================================================================================
		.content {
			padding: 2rem calc(100% / 12 * 1);

			@media screen and (min-width: $break-medium) {
				background: #fff;
				border: 1px solid $global-border-color;
				border-left: 10px solid $color-1;
				box-shadow: 0 0 30px rgba(0, 0, 0, .05);
				margin: 100px auto;
				min-width: 400px;
				padding: 2em;
				position: relative;		//  this will make the close sit within the modal
				width: calc(100% / 12 * #{$colWidth});
			}

			@media screen and (min-width: $break-large) {
				padding: 4em;
			}

			.close {
				@include flex($align: center, $justify: flex-end);

				border-radius: 100%;
				cursor: pointer;
				margin: 0;
				padding: 1em;
				z-index: 1000;

				@media screen and (min-width: $break-medium) {
					position: absolute;
					right: 1.5em;
					top: 1.5em;
				}

				@media screen and (min-width: $break-large) {
					right: 4em;
					top: 3.25em;
				}

			    &:hover {
			        transform: rotate(-90deg);
			        transition: transform .2s;
			    }
			}
				.icon-close {
					@include set-icon-color($body-color);
				}

			h1:first-of-type {
				@media screen and (min-width: $break-medium) {
					padding-right: 2.5em;	//  allow space for the close icon
				}
			}
		}

		//  ctas - modal will frequenly use these
		//	============================================================================================
		.ctas {
			@include flex($align: center, $justify: flex-end);

			margin-top: 45px;
			width: 100%;

			button {
				margin: 5px;

				&:last-of-type {
					margin-right: 0
				}
			}

			p {
				padding: 0;
			}
		}
    }   // END
}




//	used on modals so mobile slide down and desktop zoom in
.mobile-center-enter-active,
.mobile-center-leave-active {
	transition: .2s;
}
.mobile-center-enter,
.mobile-center-leave-to {
	opacity: 0;
	transform: translateY(-100vh);

	@media screen and (min-width: $break-medium) {
		transform: scale(3);
		opacity: 0;
	}
}


//  make available
//  ====================================================================================================
@include modal-center();
